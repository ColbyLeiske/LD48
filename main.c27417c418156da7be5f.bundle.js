/*! For license information please see main.c27417c418156da7be5f.bundle.js.LICENSE.txt */
(()=>{var e,s={110:(e,s,t)=>{"use strict";t(260);const i=JSON.parse('{"connections":[{"source":25,"dest":24,"weight":105.60303025955268},{"source":24,"dest":23,"weight":141.9929575718458},{"source":23,"dest":21,"weight":90.69729874698585},{"source":21,"dest":19,"weight":117.98728745080972},{"source":19,"dest":18,"weight":175.93180496999398},{"source":18,"dest":17,"weight":158.14550262337528},{"source":17,"dest":15,"weight":44.04543109109048},{"source":15,"dest":13,"weight":218.32544515012444},{"source":13,"dest":14,"weight":111.61093136427094},{"source":13,"dest":12,"weight":69.02897942168927},{"source":12,"dest":11,"weight":196.01020381602586},{"source":11,"dest":9,"weight":198.33809518093088},{"source":9,"dest":10,"weight":169.83815825661793},{"source":7,"dest":9,"weight":226.97356674291393},{"source":8,"dest":7,"weight":148.12157169028418},{"source":7,"dest":5,"weight":229.8695282111137},{"source":5,"dest":6,"weight":122.48265183282079},{"source":0,"dest":1,"weight":103.31021246711285},{"source":1,"dest":2,"weight":93.74433316206373},{"source":2,"dest":3,"weight":52.43090691567332},{"source":3,"dest":4,"weight":142.57980221616245},{"source":4,"dest":5,"weight":135.41787178950938},{"source":3,"dest":22,"weight":107.64757312638311},{"source":22,"dest":21,"weight":109.2520022699813},{"source":19,"dest":20,"weight":128.6001555209013},{"source":26,"dest":27,"weight":63.50590523722971},{"source":27,"dest":28,"weight":91.67878707749138},{"source":28,"dest":29,"weight":33.83784863137726},{"source":29,"dest":20,"weight":15},{"source":29,"dest":30,"weight":22.80350850198276},{"source":30,"dest":31,"weight":23.600847442411894},{"source":31,"dest":32,"weight":28.600699292150182},{"source":32,"dest":33,"weight":18.601075237738275},{"source":33,"dest":34,"weight":29.5296461204668},{"source":35,"dest":36,"weight":33.24154027718932},{"source":36,"dest":37,"weight":72.86288492778748},{"source":37,"dest":38,"weight":24.698178070456937},{"source":38,"dest":39,"weight":21.470910553583888},{"source":39,"dest":40,"weight":29.154759474226502},{"source":40,"dest":41,"weight":32.69556544854363},{"source":41,"dest":29,"weight":43.46262762420146},{"source":41,"dest":56,"weight":21.633307652783937},{"source":52,"dest":56,"weight":23.600847442411894},{"source":52,"dest":49,"weight":23.021728866442675},{"source":49,"dest":44,"weight":24.839484696748443},{"source":44,"dest":45,"weight":32.69556544854363},{"source":45,"dest":46,"weight":32.69556544854363},{"source":46,"dest":36,"weight":26.92582403567252},{"source":46,"dest":47,"weight":24.758836806279895},{"source":47,"dest":54,"weight":25.495097567963924},{"source":54,"dest":38,"weight":22.02271554554524},{"source":45,"dest":48,"weight":27.65863337187866},{"source":48,"dest":53,"weight":21.2602916254693},{"source":53,"dest":55,"weight":22.02271554554524},{"source":38,"dest":55,"weight":30.870698080866262},{"source":55,"dest":56,"weight":28.792360097775937},{"source":44,"dest":43,"weight":25.942243542145693},{"source":43,"dest":33,"weight":16.76305461424021},{"source":32,"dest":50,"weight":15.620499351813308},{"source":50,"dest":49,"weight":24.596747752497688},{"source":51,"dest":52,"weight":25.495097567963924},{"source":31,"dest":51,"weight":16.15549442140351},{"source":51,"dest":30,"weight":31.78049716414141},{"source":30,"dest":56,"weight":41.6293165929973},{"source":34,"dest":60,"weight":18.384776310850235},{"source":60,"dest":59,"weight":25.079872407968907},{"source":59,"dest":58,"weight":34.17601498127012},{"source":58,"dest":57,"weight":38.07886552931954},{"source":57,"dest":35,"weight":28.231188426986208},{"source":57,"dest":46,"weight":33.301651610693426},{"source":58,"dest":45,"weight":31.906112267087632},{"source":59,"dest":44,"weight":30.01666203960727},{"source":60,"dest":43,"weight":28.30194339616981},{"source":43,"dest":50,"weight":25},{"source":50,"dest":51,"weight":23.600847442411894},{"source":61,"dest":47,"weight":25.942243542145693},{"source":47,"dest":48,"weight":32.57299494980466},{"source":48,"dest":49,"weight":31.76476034853718},{"source":52,"dest":53,"weight":29.546573405388315},{"source":53,"dest":54,"weight":30.870698080866262},{"source":54,"dest":62,"weight":26.92582403567252},{"source":64,"dest":36,"weight":20.09975124224178},{"source":63,"dest":36,"weight":31.144823004794873},{"source":63,"dest":64,"weight":37.013511046643494},{"source":42,"dest":63,"weight":31.827660925679098},{"source":64,"dest":26,"weight":65.85590330410783},{"source":41,"dest":66,"weight":24.698178070456937},{"source":66,"dest":28,"weight":38.05259518088089},{"source":55,"dest":40,"weight":22.847319317591726},{"source":40,"dest":65,"weight":14.422205101855956},{"source":65,"dest":66,"weight":44.64302857109943},{"source":20,"dest":94,"weight":15.652475842498529},{"source":94,"dest":79,"weight":12.806248474865697},{"source":94,"dest":95,"weight":23.769728648009426},{"source":95,"dest":77,"weight":12.36931687685298},{"source":77,"dest":96,"weight":21.93171219946131},{"source":96,"dest":80,"weight":10},{"source":80,"dest":81,"weight":16.1245154965971},{"source":81,"dest":88,"weight":27.730849247724095},{"source":88,"dest":71,"weight":26.570660511172846},{"source":71,"dest":70,"weight":34.20526275297414},{"source":70,"dest":90,"weight":8.06225774829855},{"source":90,"dest":89,"weight":20.12461179749811},{"source":89,"dest":91,"weight":21.540659228538015},{"source":91,"dest":92,"weight":17.4928556845359},{"source":92,"dest":85,"weight":9.486832980505138},{"source":85,"dest":84,"weight":14.212670403551895},{"source":84,"dest":83,"weight":21.633307652783937},{"source":83,"dest":79,"weight":20.248456731316587},{"source":79,"dest":78,"weight":26.40075756488817},{"source":78,"dest":80,"weight":27.313000567495326},{"source":83,"dest":82,"weight":28.0178514522438},{"source":82,"dest":81,"weight":27.202941017470888},{"source":81,"dest":75,"weight":18.867962264113206},{"source":75,"dest":74,"weight":24.331050121192877},{"source":74,"dest":88,"weight":25.632011235952593},{"source":88,"dest":87,"weight":27.202941017470888},{"source":87,"dest":86,"weight":16.15549442140351},{"source":86,"dest":84,"weight":18.788294228055936},{"source":86,"dest":85,"weight":18.027756377319946},{"source":89,"dest":86,"weight":20.518284528683193},{"source":68,"dest":89,"weight":19.72308292331602},{"source":67,"dest":91,"weight":19.72308292331602},{"source":67,"dest":68,"weight":21.540659228538015},{"source":68,"dest":69,"weight":21.18962010041709},{"source":71,"dest":72,"weight":27.65863337187866},{"source":72,"dest":73,"weight":23.853720883753127},{"source":73,"dest":74,"weight":7.280109889280518},{"source":73,"dest":93,"weight":51.894122981316485},{"source":75,"dest":76,"weight":16.15549442140351},{"source":76,"dest":96,"weight":18.788294228055936},{"source":95,"dest":78,"weight":22.360679774997898},{"source":78,"dest":82,"weight":19.235384061671343},{"source":82,"dest":87,"weight":27.730849247724095},{"source":87,"dest":90,"weight":20.808652046684813},{"source":70,"dest":69,"weight":8.94427190999916},{"source":32,"dest":92,"weight":23.769728648009426},{"source":97,"dest":15,"weight":74.41102068914255},{"source":97,"dest":97,"weight":1},{"source":97,"dest":16,"weight":36.87817782917155},{"source":97,"dest":98,"weight":97.94386147176351},{"source":98,"dest":99,"weight":106.30145812734649},{"source":99,"dest":100,"weight":106.88779163215975},{"source":100,"dest":101,"weight":81.60882305241266},{"source":101,"dest":102,"weight":87.98295289429652},{"source":102,"dest":103,"weight":128.191263352851},{"source":103,"dest":104,"weight":76.94153624668537},{"source":104,"dest":105,"weight":55.44366510251645},{"source":105,"dest":106,"weight":69.77822009767804},{"source":106,"dest":107,"weight":26.40075756488817},{"source":1,"dest":108,"weight":79.64923100695951},{"source":108,"dest":109,"weight":42.15447781671598},{"source":108,"dest":110,"weight":81.12336284942828},{"source":7,"dest":111,"weight":74.33034373659252},{"source":111,"dest":112,"weight":88.23831367382311},{"source":112,"dest":113,"weight":57.55866572463264},{"source":11,"dest":114,"weight":112.79184367674819},{"source":114,"dest":115,"weight":74.33034373659252},{"source":115,"dest":116,"weight":91},{"source":116,"dest":117,"weight":66.21933252457322},{"source":12,"dest":118,"weight":126.65701717630967},{"source":118,"dest":119,"weight":31.304951684997057},{"source":120,"dest":28,"weight":51.264022471905186},{"source":28,"dest":120,"weight":51.264022471905186},{"source":120,"dest":121,"weight":15.132745950421556},{"source":121,"dest":120,"weight":15.132745950421556},{"source":121,"dest":77,"weight":20.396078054371138},{"source":77,"dest":121,"weight":20.396078054371138},{"source":121,"dest":122,"weight":29.832867780352597},{"source":122,"dest":121,"weight":29.832867780352597},{"source":122,"dest":76,"weight":34.52535300326414},{"source":76,"dest":122,"weight":34.52535300326414},{"source":122,"dest":123,"weight":26.90724809414742},{"source":123,"dest":122,"weight":26.90724809414742},{"source":123,"dest":125,"weight":52.32590180780452},{"source":125,"dest":123,"weight":52.32590180780452},{"source":125,"dest":124,"weight":25.495097567963924},{"source":124,"dest":125,"weight":25.495097567963924},{"source":124,"dest":130,"weight":25.96150997149434},{"source":130,"dest":124,"weight":25.96150997149434},{"source":130,"dest":131,"weight":18.601075237738275},{"source":131,"dest":130,"weight":18.601075237738275},{"source":131,"dest":132,"weight":21.37755832643195},{"source":132,"dest":131,"weight":21.37755832643195},{"source":72,"dest":93,"weight":60.03332407921454},{"source":93,"dest":72,"weight":60.03332407921454},{"source":133,"dest":131,"weight":19.235384061671343},{"source":131,"dest":133,"weight":19.235384061671343},{"source":131,"dest":75,"weight":27.294688127912362},{"source":75,"dest":131,"weight":27.294688127912362},{"source":76,"dest":130,"weight":31.78049716414141},{"source":130,"dest":76,"weight":31.78049716414141},{"source":127,"dest":130,"weight":31.304951684997057},{"source":130,"dest":127,"weight":31.304951684997057},{"source":134,"dest":133,"weight":17.4928556845359},{"source":133,"dest":134,"weight":17.4928556845359},{"source":134,"dest":143,"weight":39.11521443121589},{"source":143,"dest":134,"weight":39.11521443121589},{"source":143,"dest":135,"weight":25.632011235952593},{"source":135,"dest":143,"weight":25.632011235952593},{"source":135,"dest":93,"weight":37.36308338453881},{"source":93,"dest":135,"weight":37.36308338453881},{"source":136,"dest":135,"weight":11.180339887498949},{"source":135,"dest":136,"weight":11.180339887498949},{"source":136,"dest":137,"weight":30.083217912982647},{"source":137,"dest":136,"weight":30.083217912982647},{"source":137,"dest":138,"weight":35.17101079013795},{"source":138,"dest":137,"weight":35.17101079013795},{"source":138,"dest":139,"weight":30.364452901377952},{"source":139,"dest":138,"weight":30.364452901377952},{"source":139,"dest":140,"weight":27.202941017470888},{"source":140,"dest":139,"weight":27.202941017470888},{"source":140,"dest":150,"weight":25},{"source":150,"dest":140,"weight":25},{"source":150,"dest":149,"weight":31.78049716414141},{"source":149,"dest":150,"weight":31.78049716414141},{"source":149,"dest":148,"weight":7.0710678118654755},{"source":148,"dest":149,"weight":7.0710678118654755},{"source":148,"dest":147,"weight":37.48332962798263},{"source":147,"dest":148,"weight":37.48332962798263},{"source":147,"dest":129,"weight":32.984845004941285},{"source":129,"dest":147,"weight":32.984845004941285},{"source":129,"dest":125,"weight":48.104053883222775},{"source":125,"dest":129,"weight":48.104053883222775},{"source":122,"dest":124,"weight":37.20215047547655},{"source":124,"dest":122,"weight":37.20215047547655},{"source":124,"dest":126,"weight":31.240998703626616},{"source":126,"dest":124,"weight":31.240998703626616},{"source":126,"dest":128,"weight":20.518284528683193},{"source":128,"dest":126,"weight":20.518284528683193},{"source":127,"dest":126,"weight":19.235384061671343},{"source":126,"dest":127,"weight":19.235384061671343},{"source":127,"dest":128,"weight":18.681541692269406},{"source":128,"dest":127,"weight":18.681541692269406},{"source":128,"dest":129,"weight":21.840329667841555},{"source":129,"dest":128,"weight":21.840329667841555},{"source":129,"dest":144,"weight":15.297058540778355},{"source":144,"dest":129,"weight":15.297058540778355},{"source":144,"dest":143,"weight":18.439088914585774},{"source":143,"dest":144,"weight":18.439088914585774},{"source":127,"dest":134,"weight":20.248456731316587},{"source":134,"dest":127,"weight":20.248456731316587},{"source":133,"dest":127,"weight":24.166091947189145},{"source":127,"dest":133,"weight":24.166091947189145},{"source":143,"dest":142,"weight":31.78049716414141},{"source":142,"dest":143,"weight":31.78049716414141},{"source":142,"dest":141,"weight":35.6931365951495},{"source":141,"dest":142,"weight":35.6931365951495},{"source":141,"dest":140,"weight":29.154759474226502},{"source":140,"dest":141,"weight":29.154759474226502},{"source":138,"dest":141,"weight":34.17601498127012},{"source":141,"dest":138,"weight":34.17601498127012},{"source":137,"dest":142,"weight":31.953090617340916},{"source":142,"dest":137,"weight":31.953090617340916},{"source":142,"dest":145,"weight":24.73863375370596},{"source":145,"dest":142,"weight":24.73863375370596},{"source":145,"dest":147,"weight":14.560219778561036},{"source":147,"dest":145,"weight":14.560219778561036},{"source":144,"dest":145,"weight":31.78049716414141},{"source":145,"dest":144,"weight":31.78049716414141},{"source":145,"dest":146,"weight":36.40054944640259},{"source":146,"dest":145,"weight":36.40054944640259},{"source":146,"dest":150,"weight":28.635642126552707},{"source":150,"dest":146,"weight":28.635642126552707},{"source":146,"dest":141,"weight":21.840329667841555},{"source":141,"dest":146,"weight":21.840329667841555},{"source":144,"dest":127,"weight":36.22154055254967},{"source":127,"dest":144,"weight":36.22154055254967},{"source":150,"dest":151,"weight":27.294688127912362},{"source":151,"dest":150,"weight":27.294688127912362},{"source":151,"dest":152,"weight":19.4164878389476},{"source":152,"dest":151,"weight":19.4164878389476},{"source":152,"dest":153,"weight":16.492422502470642},{"source":153,"dest":152,"weight":16.492422502470642},{"source":140,"dest":152,"weight":28.160255680657446},{"source":152,"dest":140,"weight":28.160255680657446},{"source":154,"dest":3,"weight":113.44161493913951},{"source":3,"dest":154,"weight":113.44161493913951},{"source":154,"dest":4,"weight":29.154759474226502},{"source":4,"dest":154,"weight":29.154759474226502},{"source":154,"dest":155,"weight":30.066592756745816},{"source":155,"dest":154,"weight":30.066592756745816},{"source":155,"dest":4,"weight":27.459060435491963},{"source":4,"dest":155,"weight":27.459060435491963},{"source":155,"dest":157,"weight":17.69180601295413},{"source":157,"dest":155,"weight":17.69180601295413},{"source":157,"dest":156,"weight":22.20360331117452},{"source":156,"dest":157,"weight":22.20360331117452},{"source":156,"dest":158,"weight":29.068883707497267},{"source":158,"dest":156,"weight":29.068883707497267},{"source":158,"dest":159,"weight":31.78049716414141},{"source":159,"dest":158,"weight":31.78049716414141},{"source":159,"dest":160,"weight":31.064449134018133},{"source":160,"dest":159,"weight":31.064449134018133},{"source":160,"dest":161,"weight":15},{"source":161,"dest":160,"weight":15},{"source":161,"dest":162,"weight":24.08318915758459},{"source":162,"dest":161,"weight":24.08318915758459},{"source":162,"dest":163,"weight":25.238858928247925},{"source":163,"dest":162,"weight":25.238858928247925},{"source":163,"dest":164,"weight":14.317821063276353},{"source":164,"dest":163,"weight":14.317821063276353},{"source":164,"dest":165,"weight":23.194827009486403},{"source":165,"dest":164,"weight":23.194827009486403},{"source":165,"dest":166,"weight":25.019992006393608},{"source":166,"dest":165,"weight":25.019992006393608},{"source":166,"dest":167,"weight":20.09975124224178},{"source":167,"dest":166,"weight":20.09975124224178},{"source":167,"dest":168,"weight":18.24828759089466},{"source":168,"dest":167,"weight":18.24828759089466},{"source":168,"dest":169,"weight":21.37755832643195},{"source":169,"dest":168,"weight":21.37755832643195},{"source":170,"dest":169,"weight":31.25699921617557},{"source":169,"dest":170,"weight":31.25699921617557},{"source":170,"dest":198,"weight":24.020824298928627},{"source":198,"dest":170,"weight":24.020824298928627},{"source":198,"dest":207,"weight":21.213203435596427},{"source":207,"dest":198,"weight":21.213203435596427},{"source":207,"dest":193,"weight":23.08679276123039},{"source":193,"dest":207,"weight":23.08679276123039},{"source":193,"dest":192,"weight":9.055385138137417},{"source":192,"dest":193,"weight":9.055385138137417},{"source":192,"dest":191,"weight":138.6542462386205},{"source":191,"dest":192,"weight":138.6542462386205},{"source":191,"dest":189,"weight":23.021728866442675},{"source":189,"dest":191,"weight":23.021728866442675},{"source":189,"dest":188,"weight":37.64306044943742},{"source":188,"dest":189,"weight":37.64306044943742},{"source":188,"dest":187,"weight":34.23448553724738},{"source":187,"dest":188,"weight":34.23448553724738},{"source":187,"dest":191,"weight":44.77722635447622},{"source":191,"dest":187,"weight":44.77722635447622},{"source":190,"dest":188,"weight":33.24154027718932},{"source":188,"dest":190,"weight":33.24154027718932},{"source":190,"dest":174,"weight":36.013886210738214},{"source":174,"dest":190,"weight":36.013886210738214},{"source":174,"dest":184,"weight":22.47220505424423},{"source":184,"dest":174,"weight":22.47220505424423},{"source":184,"dest":173,"weight":24.596747752497688},{"source":173,"dest":184,"weight":24.596747752497688},{"source":173,"dest":186,"weight":37.64306044943742},{"source":186,"dest":173,"weight":37.64306044943742},{"source":186,"dest":187,"weight":35.05709628591621},{"source":187,"dest":186,"weight":35.05709628591621},{"source":186,"dest":201,"weight":20},{"source":201,"dest":186,"weight":20},{"source":201,"dest":172,"weight":16.64331697709324},{"source":172,"dest":201,"weight":16.64331697709324},{"source":172,"dest":164,"weight":26.019223662515376},{"source":164,"dest":172,"weight":26.019223662515376},{"source":165,"dest":203,"weight":23.021728866442675},{"source":203,"dest":165,"weight":23.021728866442675},{"source":172,"dest":203,"weight":21},{"source":203,"dest":172,"weight":21},{"source":203,"dest":202,"weight":26},{"source":202,"dest":203,"weight":26},{"source":202,"dest":171,"weight":20},{"source":171,"dest":202,"weight":20},{"source":171,"dest":204,"weight":18.027756377319946},{"source":204,"dest":171,"weight":18.027756377319946},{"source":204,"dest":170,"weight":17.029386365926403},{"source":170,"dest":204,"weight":17.029386365926403},{"source":168,"dest":204,"weight":26},{"source":204,"dest":168,"weight":26},{"source":167,"dest":171,"weight":24},{"source":171,"dest":167,"weight":24},{"source":166,"dest":202,"weight":22},{"source":202,"dest":166,"weight":22},{"source":181,"dest":158,"weight":23.853720883753127},{"source":158,"dest":181,"weight":23.853720883753127},{"source":181,"dest":180,"weight":20.615528128088304},{"source":180,"dest":181,"weight":20.615528128088304},{"source":180,"dest":159,"weight":22.090722034374522},{"source":159,"dest":180,"weight":22.090722034374522},{"source":180,"dest":179,"weight":25},{"source":179,"dest":180,"weight":25},{"source":179,"dest":161,"weight":17.69180601295413},{"source":161,"dest":179,"weight":17.69180601295413},{"source":179,"dest":178,"weight":20.808652046684813},{"source":178,"dest":179,"weight":20.808652046684813},{"source":178,"dest":162,"weight":20.248456731316587},{"source":162,"dest":178,"weight":20.248456731316587},{"source":178,"dest":177,"weight":14.142135623730951},{"source":177,"dest":178,"weight":14.142135623730951},{"source":177,"dest":176,"weight":16.401219466856727},{"source":176,"dest":177,"weight":16.401219466856727},{"source":176,"dest":185,"weight":11.40175425099138},{"source":185,"dest":176,"weight":11.40175425099138},{"source":185,"dest":175,"weight":15.811388300841896},{"source":175,"dest":185,"weight":15.811388300841896},{"source":175,"dest":155,"weight":24.20743687382041},{"source":155,"dest":175,"weight":24.20743687382041},{"source":155,"dest":182,"weight":25},{"source":182,"dest":155,"weight":25},{"source":182,"dest":183,"weight":14.035668847618199},{"source":183,"dest":182,"weight":14.035668847618199},{"source":183,"dest":181,"weight":22.360679774997898},{"source":181,"dest":183,"weight":22.360679774997898},{"source":181,"dest":157,"weight":20.808652046684813},{"source":157,"dest":181,"weight":20.808652046684813},{"source":174,"dest":175,"weight":32.55764119219941},{"source":175,"dest":174,"weight":32.55764119219941},{"source":185,"dest":184,"weight":26.92582403567252},{"source":184,"dest":185,"weight":26.92582403567252},{"source":176,"dest":173,"weight":27.018512172212592},{"source":173,"dest":176,"weight":27.018512172212592},{"source":187,"dest":194,"weight":47},{"source":194,"dest":187,"weight":47},{"source":194,"dest":195,"weight":24.020824298928627},{"source":195,"dest":194,"weight":24.020824298928627},{"source":195,"dest":196,"weight":23},{"source":196,"dest":195,"weight":23},{"source":196,"dest":193,"weight":21.095023109728988},{"source":193,"dest":196,"weight":21.095023109728988},{"source":194,"dest":206,"weight":21},{"source":206,"dest":194,"weight":21},{"source":206,"dest":200,"weight":19.026297590440446},{"source":200,"dest":206,"weight":19.026297590440446},{"source":200,"dest":205,"weight":24.020824298928627},{"source":205,"dest":200,"weight":24.020824298928627},{"source":205,"dest":199,"weight":15},{"source":199,"dest":205,"weight":15},{"source":199,"dest":197,"weight":11.045361017187261},{"source":197,"dest":199,"weight":11.045361017187261},{"source":197,"dest":198,"weight":22.02271554554524},{"source":198,"dest":197,"weight":22.02271554554524},{"source":207,"dest":206,"weight":70.00714249274856},{"source":206,"dest":207,"weight":70.00714249274856},{"source":177,"dest":208,"weight":22.80350850198276},{"source":208,"dest":177,"weight":22.80350850198276},{"source":208,"dest":173,"weight":26.40075756488817},{"source":173,"dest":208,"weight":26.40075756488817},{"source":208,"dest":163,"weight":19.924858845171276},{"source":163,"dest":208,"weight":19.924858845171276},{"source":172,"dest":173,"weight":45.0111097397076},{"source":173,"dest":172,"weight":45.0111097397076},{"source":190,"dest":189,"weight":49.658836071740545},{"source":189,"dest":190,"weight":49.658836071740545},{"source":209,"dest":139,"weight":31.064449134018133},{"source":139,"dest":209,"weight":31.064449134018133},{"source":209,"dest":210,"weight":24.758836806279895},{"source":210,"dest":209,"weight":24.758836806279895},{"source":210,"dest":216,"weight":20.808652046684813},{"source":216,"dest":210,"weight":20.808652046684813},{"source":216,"dest":215,"weight":36.89173349139343},{"source":215,"dest":216,"weight":36.89173349139343},{"source":215,"dest":211,"weight":18.867962264113206},{"source":211,"dest":215,"weight":18.867962264113206},{"source":211,"dest":212,"weight":64.88451279003334},{"source":212,"dest":211,"weight":64.88451279003334},{"source":212,"dest":213,"weight":44.14748010928823},{"source":213,"dest":212,"weight":44.14748010928823},{"source":213,"dest":152,"weight":31.144823004794873},{"source":152,"dest":213,"weight":31.144823004794873},{"source":153,"dest":217,"weight":33.83784863137726},{"source":217,"dest":153,"weight":33.83784863137726},{"source":217,"dest":216,"weight":14.317821063276353},{"source":216,"dest":217,"weight":14.317821063276353},{"source":217,"dest":214,"weight":35},{"source":214,"dest":217,"weight":35},{"source":214,"dest":213,"weight":26.570660511172846},{"source":213,"dest":214,"weight":26.570660511172846},{"source":213,"dest":217,"weight":30.14962686336267},{"source":217,"dest":213,"weight":30.14962686336267},{"source":212,"dest":151,"weight":45.803929962395145},{"source":151,"dest":212,"weight":45.803929962395145}],"nodes":[{"x":168,"y":549,"id":0,"canBeBusstop":false},{"x":176,"y":446,"id":1,"canBeBusstop":false},{"x":228,"y":368,"id":2,"canBeBusstop":false},{"x":271,"y":338,"id":3,"canBeBusstop":false},{"x":348,"y":458,"id":4,"canBeBusstop":false},{"x":395,"y":585,"id":5,"canBeBusstop":false},{"x":276,"y":614,"id":6,"canBeBusstop":false},{"x":621,"y":543,"id":7,"canBeBusstop":false},{"x":615,"y":691,"id":8,"canBeBusstop":false},{"x":847,"y":564,"id":9,"canBeBusstop":false},{"x":985,"y":663,"id":10,"canBeBusstop":false},{"x":1010,"y":451,"id":11,"canBeBusstop":false},{"x":1104,"y":279,"id":12,"canBeBusstop":false},{"x":1102,"y":210,"id":13,"canBeBusstop":false},{"x":1126,"y":101,"id":14,"canBeBusstop":false},{"x":923,"y":85,"id":15,"canBeBusstop":false},{"x":996,"y":1,"id":16,"canBeBusstop":false},{"x":895,"y":119,"id":17,"canBeBusstop":false},{"x":744,"y":166,"id":18,"canBeBusstop":false},{"x":570,"y":192,"id":19,"canBeBusstop":false},{"x":647,"y":295,"id":20,"canBeBusstop":false},{"x":459,"y":232,"id":21,"canBeBusstop":false},{"x":359,"y":276,"id":22,"canBeBusstop":false},{"x":384,"y":181,"id":23,"canBeBusstop":false},{"x":245,"y":152,"id":24,"canBeBusstop":false},{"x":181,"y":236,"id":25,"canBeBusstop":false},{"x":502,"y":346,"id":26,"canBeBusstop":false},{"x":565,"y":354,"id":27,"canBeBusstop":false},{"x":654,"y":332,"id":28,"canBeBusstop":false},{"x":635,"y":304,"id":29,"canBeBusstop":true},{"x":621,"y":286,"id":30,"canBeBusstop":true},{"x":607,"y":267,"id":31,"canBeBusstop":true},{"x":590,"y":244,"id":32,"canBeBusstop":true},{"x":579,"y":229,"id":33,"canBeBusstop":true},{"x":565,"y":203,"id":34,"canBeBusstop":true},{"x":432,"y":258,"id":35,"canBeBusstop":true},{"x":455,"y":282,"id":36,"canBeBusstop":true},{"x":505,"y":335,"id":37,"canBeBusstop":true},{"x":528,"y":326,"id":38,"canBeBusstop":true},{"x":538,"y":345,"id":39,"canBeBusstop":true},{"x":565,"y":334,"id":40,"canBeBusstop":true},{"x":595,"y":321,"id":41,"canBeBusstop":true},{"x":402,"y":256,"id":42,"canBeBusstop":false},{"x":563,"y":234,"id":43,"canBeBusstop":true},{"x":540,"y":246,"id":44,"canBeBusstop":true},{"x":510,"y":259,"id":45,"canBeBusstop":true},{"x":480,"y":272,"id":46,"canBeBusstop":true},{"x":497,"y":290,"id":47,"canBeBusstop":true},{"x":528,"y":280,"id":48,"canBeBusstop":true},{"x":556,"y":265,"id":49,"canBeBusstop":true},{"x":578,"y":254,"id":50,"canBeBusstop":true},{"x":592,"y":273,"id":51,"canBeBusstop":true},{"x":569,"y":284,"id":52,"canBeBusstop":true},{"x":542,"y":296,"id":53,"canBeBusstop":true},{"x":514,"y":309,"id":54,"canBeBusstop":true},{"x":556,"y":313,"id":55,"canBeBusstop":true},{"x":583,"y":303,"id":56,"canBeBusstop":true},{"x":458,"y":247,"id":57,"canBeBusstop":true},{"x":493,"y":232,"id":58,"canBeBusstop":true},{"x":525,"y":220,"id":59,"canBeBusstop":true},{"x":548,"y":210,"id":60,"canBeBusstop":true},{"x":474,"y":302,"id":61,"canBeBusstop":true},{"x":489,"y":319,"id":62,"canBeBusstop":true},{"x":424,"y":279,"id":63,"canBeBusstop":false},{"x":453,"y":302,"id":64,"canBeBusstop":false},{"x":573,"y":346,"id":65,"canBeBusstop":true},{"x":616,"y":334,"id":66,"canBeBusstop":true},{"x":593,"y":203,"id":67,"canBeBusstop":true,"isBusstop":false},{"x":613,"y":195,"id":68,"canBeBusstop":true,"isBusstop":false},{"x":633,"y":188,"id":69,"canBeBusstop":true,"isBusstop":false},{"x":637,"y":196,"id":70,"canBeBusstop":false,"isBusstop":false},{"x":670,"y":187,"id":71,"canBeBusstop":true,"isBusstop":false},{"x":697,"y":181,"id":72,"canBeBusstop":true,"isBusstop":false},{"x":710,"y":201,"id":73,"canBeBusstop":true,"isBusstop":false},{"x":703,"y":203,"id":74,"canBeBusstop":true,"isBusstop":false},{"x":707,"y":227,"id":75,"canBeBusstop":true,"isBusstop":false},{"x":713,"y":242,"id":76,"canBeBusstop":true,"isBusstop":false},{"x":696,"y":279,"id":77,"canBeBusstop":true,"isBusstop":false},{"x":674,"y":262,"id":78,"canBeBusstop":true,"isBusstop":false},{"x":653,"y":278,"id":79,"canBeBusstop":true,"isBusstop":false},{"x":699,"y":251,"id":80,"canBeBusstop":true,"isBusstop":false},{"x":691,"y":237,"id":81,"canBeBusstop":true,"isBusstop":false},{"x":665,"y":245,"id":82,"canBeBusstop":true,"isBusstop":false},{"x":642,"y":261,"id":83,"canBeBusstop":true,"isBusstop":false},{"x":630,"y":243,"id":84,"canBeBusstop":true,"isBusstop":false},{"x":621,"y":232,"id":85,"canBeBusstop":true,"isBusstop":false},{"x":638,"y":226,"id":86,"canBeBusstop":true,"isBusstop":false},{"x":653,"y":220,"id":87,"canBeBusstop":true,"isBusstop":false},{"x":679,"y":212,"id":88,"canBeBusstop":true,"isBusstop":false},{"x":623,"y":212,"id":89,"canBeBusstop":true,"isBusstop":false},{"x":641,"y":203,"id":90,"canBeBusstop":true,"isBusstop":false},{"x":603,"y":220,"id":91,"canBeBusstop":true,"isBusstop":false},{"x":612,"y":235,"id":92,"canBeBusstop":true,"isBusstop":false},{"x":757,"y":179,"id":93,"canBeBusstop":true,"isBusstop":false},{"x":661,"y":288,"id":94,"canBeBusstop":true,"isBusstop":false},{"x":684,"y":282,"id":95,"canBeBusstop":true,"isBusstop":false},{"x":705,"y":259,"id":96,"canBeBusstop":true,"isBusstop":false},{"x":972,"y":29,"id":97,"canBeBusstop":false,"isBusstop":false},{"x":889,"y":81,"id":98,"canBeBusstop":false,"isBusstop":false},{"x":783,"y":89,"id":99,"canBeBusstop":false,"isBusstop":false},{"x":687,"y":42,"id":100,"canBeBusstop":false,"isBusstop":false},{"x":609,"y":66,"id":101,"canBeBusstop":false,"isBusstop":false},{"x":534,"y":112,"id":102,"canBeBusstop":false,"isBusstop":false},{"x":406,"y":105,"id":103,"canBeBusstop":false,"isBusstop":false},{"x":338,"y":69,"id":104,"canBeBusstop":false,"isBusstop":false},{"x":283,"y":76,"id":105,"canBeBusstop":false,"isBusstop":false},{"x":220,"y":46,"id":106,"canBeBusstop":false,"isBusstop":false},{"x":196,"y":57,"id":107,"canBeBusstop":false,"isBusstop":false},{"x":106,"y":484,"id":108,"canBeBusstop":false,"isBusstop":false},{"x":145,"y":500,"id":109,"canBeBusstop":false,"isBusstop":false},{"x":36,"y":525,"id":110,"canBeBusstop":false,"isBusstop":false},{"x":566,"y":593,"id":111,"canBeBusstop":false,"isBusstop":false},{"x":511,"y":662,"id":112,"canBeBusstop":false,"isBusstop":false},{"x":503,"y":719,"id":113,"canBeBusstop":false,"isBusstop":false},{"x":1119,"y":480,"id":114,"canBeBusstop":false,"isBusstop":false},{"x":1094,"y":550,"id":115,"canBeBusstop":false,"isBusstop":false},{"x":1094,"y":641,"id":116,"canBeBusstop":false,"isBusstop":false},{"x":1053,"y":693,"id":117,"canBeBusstop":false,"isBusstop":false},{"x":1203,"y":200,"id":118,"canBeBusstop":false,"isBusstop":false},{"x":1217,"y":172,"id":119,"canBeBusstop":false,"isBusstop":false},{"x":702,"y":314,"id":120,"canBeBusstop":true,"isBusstop":false},{"x":700,"y":299,"id":121,"canBeBusstop":true,"isBusstop":false},{"x":719,"y":276,"id":122,"canBeBusstop":true,"isBusstop":false},{"x":737,"y":296,"id":123,"canBeBusstop":true,"isBusstop":false},{"x":749,"y":254,"id":124,"canBeBusstop":true,"isBusstop":false},{"x":774,"y":259,"id":125,"canBeBusstop":true,"isBusstop":false},{"x":773,"y":234,"id":126,"canBeBusstop":true,"isBusstop":false},{"x":770,"y":215,"id":127,"canBeBusstop":true,"isBusstop":false},{"x":788,"y":220,"id":128,"canBeBusstop":true,"isBusstop":false},{"x":809,"y":226,"id":129,"canBeBusstop":true,"isBusstop":false},{"x":742,"y":229,"id":130,"canBeBusstop":true,"isBusstop":false},{"x":731,"y":214,"id":131,"canBeBusstop":true,"isBusstop":false},{"x":727,"y":193,"id":132,"canBeBusstop":false,"isBusstop":false},{"x":748,"y":205,"id":133,"canBeBusstop":true,"isBusstop":false},{"x":763,"y":196,"id":134,"canBeBusstop":true,"isBusstop":false},{"x":793,"y":169,"id":135,"canBeBusstop":false,"isBusstop":false},{"x":791,"y":158,"id":136,"canBeBusstop":true,"isBusstop":false},{"x":820,"y":150,"id":137,"canBeBusstop":true,"isBusstop":false},{"x":854,"y":141,"id":138,"canBeBusstop":true,"isBusstop":false},{"x":883,"y":132,"id":139,"canBeBusstop":true,"isBusstop":false},{"x":891,"y":158,"id":140,"canBeBusstop":true,"isBusstop":false},{"x":866,"y":173,"id":141,"canBeBusstop":true,"isBusstop":false},{"x":831,"y":180,"id":142,"canBeBusstop":true,"isBusstop":false},{"x":802,"y":193,"id":143,"canBeBusstop":true,"isBusstop":false},{"x":806,"y":211,"id":144,"canBeBusstop":true,"isBusstop":false},{"x":837,"y":204,"id":145,"canBeBusstop":true,"isBusstop":false},{"x":872,"y":194,"id":146,"canBeBusstop":true,"isBusstop":false},{"x":841,"y":218,"id":147,"canBeBusstop":true,"isBusstop":false},{"x":878,"y":212,"id":148,"canBeBusstop":false,"isBusstop":false},{"x":885,"y":211,"id":149,"canBeBusstop":true,"isBusstop":false},{"x":898,"y":182,"id":150,"canBeBusstop":true,"isBusstop":false},{"x":922,"y":169,"id":151,"canBeBusstop":true,"isBusstop":false},{"x":918,"y":150,"id":152,"canBeBusstop":false,"isBusstop":false},{"x":914,"y":134,"id":153,"canBeBusstop":true,"isBusstop":false},{"x":333,"y":433,"id":154,"canBeBusstop":false,"isBusstop":false},{"x":363,"y":435,"id":155,"canBeBusstop":false,"isBusstop":false},{"x":332,"y":410,"id":156,"canBeBusstop":true,"isBusstop":false},{"x":350,"y":423,"id":157,"canBeBusstop":false,"isBusstop":false},{"x":354,"y":391,"id":158,"canBeBusstop":false,"isBusstop":false},{"x":385,"y":384,"id":159,"canBeBusstop":false,"isBusstop":false},{"x":416,"y":382,"id":160,"canBeBusstop":true,"isBusstop":false},{"x":425,"y":394,"id":161,"canBeBusstop":false,"isBusstop":false},{"x":441,"y":412,"id":162,"canBeBusstop":false,"isBusstop":false},{"x":455,"y":433,"id":163,"canBeBusstop":true,"isBusstop":false},{"x":469,"y":436,"id":164,"canBeBusstop":false,"isBusstop":false},{"x":492,"y":439,"id":165,"canBeBusstop":false,"isBusstop":false},{"x":517,"y":440,"id":166,"canBeBusstop":true,"isBusstop":false},{"x":537,"y":438,"id":167,"canBeBusstop":false,"isBusstop":false},{"x":555,"y":435,"id":168,"canBeBusstop":false,"isBusstop":false},{"x":576,"y":431,"id":169,"canBeBusstop":true,"isBusstop":false},{"x":572,"y":462,"id":170,"canBeBusstop":true,"isBusstop":false},{"x":537,"y":462,"id":171,"canBeBusstop":false,"isBusstop":false},{"x":470,"y":462,"id":172,"canBeBusstop":true,"isBusstop":false},{"x":425,"y":463,"id":173,"canBeBusstop":false,"isBusstop":false},{"x":384,"y":486,"id":174,"canBeBusstop":true,"isBusstop":false},{"x":378,"y":454,"id":175,"canBeBusstop":false,"isBusstop":false},{"x":404,"y":446,"id":176,"canBeBusstop":true,"isBusstop":false},{"x":414,"y":433,"id":177,"canBeBusstop":false,"isBusstop":false},{"x":424,"y":423,"id":178,"canBeBusstop":false,"isBusstop":false},{"x":412,"y":406,"id":179,"canBeBusstop":false,"isBusstop":false},{"x":387,"y":406,"id":180,"canBeBusstop":false,"isBusstop":false},{"x":367,"y":411,"id":181,"canBeBusstop":false,"isBusstop":false},{"x":388,"y":435,"id":182,"canBeBusstop":true,"isBusstop":false},{"x":387,"y":421,"id":183,"canBeBusstop":false,"isBusstop":false},{"x":403,"y":474,"id":184,"canBeBusstop":false,"isBusstop":false},{"x":393,"y":449,"id":185,"canBeBusstop":false,"isBusstop":false},{"x":449,"y":492,"id":186,"canBeBusstop":true,"isBusstop":false},{"x":451,"y":527,"id":187,"canBeBusstop":true,"isBusstop":false},{"x":417,"y":531,"id":188,"canBeBusstop":true,"isBusstop":false},{"x":406,"y":567,"id":189,"canBeBusstop":true,"isBusstop":false},{"x":385,"y":522,"id":190,"canBeBusstop":true,"isBusstop":false},{"x":429,"y":566,"id":191,"canBeBusstop":false,"isBusstop":false},{"x":565,"y":539,"id":192,"canBeBusstop":true,"isBusstop":false},{"x":566,"y":530,"id":193,"canBeBusstop":false,"isBusstop":false},{"x":498,"y":527,"id":194,"canBeBusstop":true,"isBusstop":false},{"x":522,"y":528,"id":195,"canBeBusstop":true,"isBusstop":false},{"x":545,"y":528,"id":196,"canBeBusstop":true,"isBusstop":false},{"x":549,"y":487,"id":197,"canBeBusstop":false,"isBusstop":false},{"x":571,"y":486,"id":198,"canBeBusstop":true,"isBusstop":false},{"x":538,"y":486,"id":199,"canBeBusstop":false,"isBusstop":false},{"x":499,"y":487,"id":200,"canBeBusstop":true,"isBusstop":false},{"x":461,"y":476,"id":201,"canBeBusstop":false,"isBusstop":false},{"x":517,"y":462,"id":202,"canBeBusstop":true,"isBusstop":false},{"x":491,"y":462,"id":203,"canBeBusstop":false,"isBusstop":false},{"x":555,"y":461,"id":204,"canBeBusstop":true,"isBusstop":false},{"x":523,"y":486,"id":205,"canBeBusstop":false,"isBusstop":false},{"x":498,"y":506,"id":206,"canBeBusstop":true,"isBusstop":false},{"x":568,"y":507,"id":207,"canBeBusstop":false,"isBusstop":false},{"x":436,"y":439,"id":208,"canBeBusstop":false,"isBusstop":false},{"x":909,"y":115,"id":209,"canBeBusstop":false,"isBusstop":false},{"x":926,"y":97,"id":210,"canBeBusstop":true,"isBusstop":false},{"x":990,"y":139,"id":211,"canBeBusstop":true,"isBusstop":false},{"x":959,"y":196,"id":212,"canBeBusstop":true,"isBusstop":false},{"x":949,"y":153,"id":213,"canBeBusstop":true,"isBusstop":false},{"x":974,"y":144,"id":214,"canBeBusstop":false,"isBusstop":false},{"x":974,"y":129,"id":215,"canBeBusstop":false,"isBusstop":false},{"x":943,"y":109,"id":216,"canBeBusstop":false,"isBusstop":false},{"x":946,"y":123,"id":217,"canBeBusstop":true,"isBusstop":false}]}');class o extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(){this.setText(`FPS: ${Math.floor(this.scene.game.loop.actualFps)}`)}}class u{constructor(e,s,t,i=!1,o=!1){this.x=e,this.y=s,this.id=t,this.canBeBusstop=i,this.isBusstop=o}}class d{constructor(){this.nodes=[],this.edges=[]}addNode(e){this.nodes.push(e)}addConnection(e,s,t){this.edges.push({source:e.id,dest:s.id,weight:t||1}),this.edges.push({dest:e.id,source:s.id,weight:t||1})}getConnections(e){return this.edges.filter((s=>{s.source===e||s.dest}))}getNode({x:e,y:s}){const t=this.nodes.filter((({x:t,y:i})=>Math.abs(e-t)<5&&Math.abs(s-i)<5));return t.length>=1?t[0]:new u(-1,-1,-1)}getNodeById(e){return this.nodes[e]}getNodesInRadius(e,s,t){return this.nodes.filter((({x:i,y:o})=>Math.abs(e-i)<t&&Math.abs(s-o)<t))}floydWarshallAlgorithm(){let e={},s={};for(let t=0;t<this.nodes.length;t++)e[t]=[],s[t]=[];for(let t=0;t<this.nodes.length;t++)this.edges.forEach((t=>{e[t.source][t.dest]=t.weight,s[t.source][t.dest]=t.dest})),this.nodes.forEach((i=>{null==e[this.nodes[t].id][i.id]&&(e[this.nodes[t].id][i.id]=1/0),this.nodes[t].id===t&&(e[t][t]=0,s[t][t]=t)}));return this.nodes.forEach((t=>{this.nodes.forEach((i=>{this.nodes.forEach((o=>{e[t.id][o.id]+e[o.id][i.id]<e[t.id][i.id]&&(e[t.id][i.id]=e[t.id][o.id]+e[o.id][i.id],s[t.id][i.id]=s[t.id][o.id])}))}))})),{dist:e,next:s}}getPath(e,s){if(!this.paths)return[];if(!this.paths[e.id][s.id])return[];let t=[e];for(;e!=s;)e=this.getNodeById(this.paths[e.id][s.id]),t.push(e);return t}getPathById(e,s){return this.getPath(this.getNodeById(e),this.getNodeById(s))}getNodesInRange(e,s,t=1/0){return this.weights[e.id].map(((e,s)=>({weight:e,index:s}))).filter((({weight:e})=>e>s&&e<t)).map((e=>this.getNodeById(e.index)))}dump(){console.log(JSON.stringify({nodes:this.nodes,connections:this.edges}))}updateEdgeWeight(e,s,t){t<1||this.edges.filter((i=>{(i.source==e&&i.dest==s||i.source==s&&i.dest==e)&&(i.weight=t)}))}loadFromJSON({nodes:e,connections:s}){this.nodes=e,this.edges=s;const{dist:t,next:i}=this.floydWarshallAlgorithm();this.paths=i,this.weights=t,console.log(t),console.log(i)}}class r extends Phaser.Scene{constructor(){super({key:"editorScene"})}create(){this.grid=new d,this.add.sprite(0,0,"map").setOrigin(0),this.add.rectangle(256,16,32,16,65280).setInteractive().on("pointerdown",(e=>{this.grid.dump()})),this.add.rectangle(512,16,32,16,15790095).setInteractive().on("pointerdown",(e=>{this.grid.loadFromJSON(i),this.grid.nodes.forEach((e=>{const s=e.canBeBusstop?65280:16711680;this.addNode(e.x,e.y,e.id,s)})),this.grid.edges.forEach((e=>{this.addConnection(this.grid.getNodeById(e.source),this.grid.getNodeById(e.dest))}))})),this.input.on("pointerdown",(e=>{if(this.input.keyboard.addKey("SPACE").isUp)return;const s=this.input.activePointer.worldX,t=this.input.activePointer.worldY,i=new u(Math.round(s),Math.round(t),this.grid.nodes.length);this.grid.addNode(i),this.addNode(s,t,i.id)})),this.input.on("wheel",((e,s,t,i,o)=>{this.cameras.main.setZoom(this.cameras.main.zoom-i/100),console.log({zoom:this.cameras.main.zoom})})),this.input.on("pointermove",(e=>{e.isDown&&this.input.keyboard.addKey("C").isDown&&(this.cameras.main.scrollX-=(e.x-e.prevPosition.x)/this.cameras.main.zoom,this.cameras.main.scrollY-=(e.y-e.prevPosition.y)/this.cameras.main.zoom)})),this.fpsText=new o(this)}addNode(e,s,t,i=16711680){const o=this.add.circle(e,s,5,i).setInteractive();this.add.text(e,s,t.toString(),{color:"black",fontSize:"12px"}).setOrigin(0),o.on("pointerdown",(e=>{if(this.input.keyboard.addKey("E").isDown){if(this.editing){const s=this.grid.getNode(e);if(-1==s.id)return;return this.grid.addConnection(this.editedStartNode,s),this.addConnection(this.editedStartNode,s),this.editedStartNode=new u(-1,-1,-1),this.editing=!1,void console.log("not editing anymore")}console.log("now editing"),this.editing=!0,this.editedStartNode=this.grid.getNode(e)}if(this.input.keyboard.addKey("V").isDown&&console.log(this.grid.getNode(e)),this.input.keyboard.addKey("B").isDown){const s=this.grid.getNode(e);this.grid.nodes[s.id].canBeBusstop=!this.grid.nodes[s.id].canBeBusstop}}))}addConnection(e,s){return this.add.line(e.x,e.y,0,0,-1*(e.x-s.x),-1*(e.y-s.y),255).setOrigin(0)}update(){this.fpsText.update()}}class c extends Phaser.GameObjects.Text{constructor(e){super(e,1070,20,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(e){this.setText(`Cash: $${e}`)}}class a extends Phaser.GameObjects.Sprite{constructor(e,s,t,i){super(e,s,t,"pin"),this.setTintFill(i),e.add.existing(this)}update(){}}var h=t(486),n=t.n(h);class g extends Phaser.GameObjects.Text{constructor(e,s,t,i){super(e,s,t-10,`+$${i}`,{color:"black",fontSize:"12px"}),e.add.existing(this),e.tweens.add({targets:this,y:this.y-10,alpha:0,onComplete:()=>{this.destroy()}}),this.setOrigin(0)}update(e){this.setText(`+ $${e}`)}}class B extends Phaser.GameObjects.Sprite{constructor(e,s){super(e,s.locations[0][0],s.locations[0][1],"bus"),this.route=s,this.ticks=0,this.setScale(.2),this.setAngle(-2.5).setZ(5),this.tweenTimeline=e.tweens.createTimeline({loop:-1});let t=0;for(let e=1;e<s.locations.length;e++){const[i,o]=s.locations[e-1],[u,d]=s.locations[e],r=Phaser.Math.Distance.Between(i,o,u,d);t+=r,this.tweenTimeline.add({targets:this,x:u,y:d,ease:"linear",duration:500+15*r})}for(let i=s.locations.length-1;i>0;i--){const[o,u]=s.locations[i-1],[d,r]=s.locations[i];let c=()=>{};i-1==0&&(c=()=>{e.editMoney(Math.trunc(t)/2),new g(e,o,u,Math.trunc(t)/2)}),this.tweenTimeline.add({targets:this,x:o,y:u,ease:"linear",duration:500+15*Phaser.Math.Distance.Between(o,u,d,r),onComplete:c})}this.tweenTimeline.add({targets:this,duration:250}),this.tweenTimeline.play(),this.tweenTimeline.setCallback("onComplete",(e=>{console.log("done")})),e.add.existing(this)}tick(){}}class p extends Phaser.Scene{constructor(){super({key:"GameScene"}),this.addingNewRoute=!1,this.routes=[],this.busses=[],this.money=500,this.colors=[2007906,4884979,5268615,5753542,12376686,15954287,13848409],this.frameTime=0,this.stopCost=200,this.baseStopCost=250}create(){this.add.sprite(0,0,"map").setOrigin(0),this.moneyText=new c(this),this.grid=new d,this.grid.loadFromJSON(i),this.potentialStopMarkers=this.add.group(),this.grid.nodes.filter((e=>e.canBeBusstop)).forEach((e=>{const s=this.add.sprite(e.x+2,e.y-10,"stopPin").setInteractive().setDataEnabled().setData("nodeid",e.id);s.on("pointerdown",(t=>{if(this.input.keyboard.addKey("V").isDown)return void console.log(this.grid.getNode(t));if(this.potentialFirstStop===s)return this.potentialFirstStop=void 0,s.clearTint(),void this.potentialStopMarkers.setVisible(!0).setActive(!0);if(this.potentialFirstStop){const e=n().sample(this.colors);console.log(e);const t=new a(this,this.potentialFirstStop.x-2,this.potentialFirstStop.y-2,e),i=new a(this,s.x-2,s.y-2,e),o=this.grid.getPathById(this.potentialFirstStop.getData("nodeid"),s.getData("nodeid")).map((e=>[e.x,e.y]));console.log(o);let u=[];for(let s=1;s<o.length;s++){const[t,i]=o[s-1],[d,r]=o[s];u.push(this.addLine(t,i,d,r,e))}const d={pinA:t,pinB:i,routeLines:u,id:this.routes.length,locations:o};return this.routes.push(),this.potentialFirstStop.setData("isBusStop",!0),s.setData("isBusStop",!0),this.potentialStopMarkers.remove(s,!0),this.potentialStopMarkers.remove(this.potentialFirstStop,!0),this.toggleNewRoute(),this.editMoney(-this.stopCost),void this.busses.push(new B(this,d))}this.potentialFirstStop=s,s.setTint(11184640),s.tintFill=!0;const i=this.grid.getNodesInRange(e,5);console.log(`within range ${JSON.stringify(i)}`);const o=i.map((e=>e.id));this.potentialStopMarkers.getChildren().filter((e=>{var s;const t=e.getData("nodeid");return!o.includes(t)&&t!=(null===(s=this.potentialFirstStop)||void 0===s?void 0:s.getData("nodeid"))})).forEach((e=>{e.setActive(!1),e.setVisible(!1)}))})),this.potentialStopMarkers.add(s)})),this.potentialStopMarkers.setVisible(!1).setActive(!1),this.modeText=this.add.text(400,10,"Adding Route").setVisible(!1),this.newRouteButton=this.add.rectangle(1200,685,120,42,65280).setInteractive().on("pointerdown",(e=>{this.toggleNewRoute()})),this.add.text(1160,677,"New Route").setColor("black"),this.input.keyboard.addKey("ESC").on("down",(e=>{this.addingNewRoute&&this.toggleNewRoute()}))}toggleNewRoute(){this.addingNewRoute=!this.addingNewRoute,this.modeText.setVisible(this.addingNewRoute),this.potentialStopMarkers.setVisible(this.addingNewRoute).setActive(this.addingNewRoute),this.potentialFirstStop=void 0,this.potentialStopMarkers.setTint(16777215)}addLine(e,s,t,i,o){return this.add.line(e,s,0,0,-1*(e-t),-1*(s-i),o).setOrigin(0).setLineWidth(2)}editMoney(e){console.log("updating money"),this.money+=e,this.money<this.stopCost?(this.newRouteButton.setActive(!1),this.newRouteButton.setFillStyle(11184810)):(this.newRouteButton.setActive(!0),this.newRouteButton.setFillStyle(65280))}update(e,s){this.moneyText.update(this.money),this.frameTime+=s,this.frameTime>16.5&&(this.frameTime=0)}}class w extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("map","assets/maps/startermap.png"),this.load.image("stopPin","assets/misc/pin.png"),this.load.image("pin","assets/misc/pinclear.png"),this.load.image("noMoneyPin","assets/misc/nomoneypin.png"),this.load.image("bus","assets/misc/bus.png")}create(){this.scene.start("editorScene")}}const l={type:Phaser.AUTO,backgroundColor:"#ffffff",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1280,height:720},scene:[w,p,r]};window.addEventListener("load",(()=>{new Phaser.Game(l)}))},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},t={};function i(e){var o=t[e];if(void 0!==o)return o.exports;var u=t[e]={id:e,loaded:!1,exports:{}};return s[e].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}i.m=s,e=[],i.O=(s,t,o,u)=>{if(!t){var d=1/0;for(a=0;a<e.length;a++){for(var[t,o,u]=e[a],r=!0,c=0;c<t.length;c++)(!1&u||d>=u)&&Object.keys(i.O).every((e=>i.O[e](t[c])))?t.splice(c--,1):(r=!1,u<d&&(d=u));r&&(e.splice(a--,1),s=o())}return s}u=u||0;for(var a=e.length;a>0&&e[a-1][2]>u;a--)e[a]=e[a-1];e[a]=[t,o,u]},i.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return i.d(s,{a:s}),s},i.d=(e,s)=>{for(var t in s)i.o(s,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};i.O.j=s=>0===e[s];var s=(s,t)=>{var o,u,[d,r,c]=t,a=0;for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(c)var h=c(i);for(s&&s(t);a<d.length;a++)u=d[a],i.o(e,u)&&e[u]&&e[u][0](),e[d[a]]=0;return i.O(h)},t=self.webpackChunkld48=self.webpackChunkld48||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})(),i.O(void 0,[216],(()=>i(110)));var o=i.O(void 0,[216],(()=>i(204)));o=i.O(o)})();